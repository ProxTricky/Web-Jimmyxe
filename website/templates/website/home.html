{% extends 'website/base.html' %}
{% load static %}

{% block content %}
<section class="hero">
    <div class="hero-content">
        <h1 class="hero-title">JimmyXE</h1>
        <p class="hero-subtitle">Streamer & Content Creator</p>
    </div>
</section>

<div class="stream-section">
    <h2 class="section-title">Stream en Direct</h2>
    <div class="stream-layout">
        <div class="stream-player">
            <iframe
                src="https://player.twitch.tv/?channel=twitchjimmyxe&parent=proxtricky.fr"
                frameborder="0"
                allowfullscreen="true"
                scrolling="no">
            </iframe>
        </div>
        <div class="stream-chat">
            <iframe
                src="https://www.twitch.tv/embed/twitchjimmyxe/chat?parent=proxtricky.fr&darkpopout"
                frameborder="0"
                scrolling="no">
            </iframe>
        </div>
    </div>
</div>

<div class="planning-section">
    <h2 class="section-title">Planning des Streams</h2>
    <div class="planning-grid">
        <div class="planning-card">
            <div class="planning-header">Lundi</div>
            <div class="planning-content">
                <p class="planning-time">06:00</p>
                <p class="planning-game">Minecraft</p>
                <p class="planning-desc">Let's play hardcore avec vous !</p>
            </div>
        </div>

        <div class="planning-card">
            <div class="planning-header">Mardi</div>
            <div class="planning-content">
                <p class="planning-time">08:00</p>
                <p class="planning-game">Divers</p>
                <p class="planning-desc">Découverte de nouveaux jeux</p>
            </div>
        </div>

        <div class="planning-card">
            <div class="planning-header">Mercredi</div>
            <div class="planning-content">
                <p class="planning-time">20:00</p>
                <p class="planning-game">Among Us</p>
                <p class="planning-desc">Soirée délire avec la commu !</p>
            </div>
        </div>
    </div>
</div>

<div class="secret-click" title="Click me 3 times!"></div>

<script>
// Konami Code
let konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
let konamiPosition = 0;

document.addEventListener('keydown', function(e) {
    if (e.key === konamiCode[konamiPosition]) {
        konamiPosition++;
        if (konamiPosition === konamiCode.length) {
            document.body.classList.add('konami-active');
            setTimeout(() => {
                document.body.classList.remove('konami-active');
            }, 5000);
            konamiPosition = 0;
        }
    } else {
        konamiPosition = 0;
    }
});

// Secret Click
let secretClicks = 0;
document.querySelector('.secret-click').addEventListener('click', function() {
    secretClicks++;
    if (secretClicks === 3) {
        this.classList.add('active');
        setTimeout(() => {
            this.classList.remove('active');
            secretClicks = 0;
        }, 3000);
    }
});

// Troll Messages
const trollMessages = [
    "Pas de panique, c'est normal si ça lag",
    "Le stream est pas cassé, c'est voulu",
    "Oui oui, le chat marche",
    "T'as essayé de recharger la page ?",
    "C'est pas un bug, c'est une feature"
];

const streamTitle = document.querySelector('.section-title');
let currentMessage = 0;

setInterval(() => {
    streamTitle.setAttribute('data-tooltip', trollMessages[currentMessage]);
    currentMessage = (currentMessage + 1) % trollMessages.length;
}, 5000);
</script>
{% endblock %}
