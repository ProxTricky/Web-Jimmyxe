{% extends 'website/base.html' %}
{% load static %}

{% block content %}
<section class="hero">
    <div class="hero-content">
        <h1 class="hero-title">JimmyXE</h1>
        <p class="hero-subtitle">Streamer & Content Creator</p>
    </div>
</section>

<section class="stream-section" id="stream">
    <div class="container">
        <div class="stream-container">
            <h2 class="stream-title">Stream en Direct</h2>
            <div class="stream-layout">
                <div class="stream-player">
                    <div class="aspect-ratio-box">
                        <iframe
                            src="https://player.twitch.tv/?channel=twitchjimmyxe&parent=proxtricky.fr"
                            frameborder="0"
                            allowfullscreen="true"
                            scrolling="no">
                        </iframe>
                    </div>
                </div>
                <div class="stream-chat">
                    <iframe
                        src="https://www.twitch.tv/embed/twitchjimmyxe/chat?parent=proxtricky.fr"
                        frameborder="0"
                        scrolling="no">
                    </iframe>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="schedule-section" id="planning">
    <div class="container">
        <div class="schedule-container">
            <h2 class="section-title">Planning des Streams</h2>
            <div class="schedule-grid">
                <div class="schedule-day">
                    <h3>Lundi</h3>
                    <p class="schedule-time">06:00 - Minecraft</p>
                    <p class="schedule-desc">Let's play hardcore avec vous !</p>
                </div>
                <div class="schedule-day">
                    <h3>Mardi</h3>
                    <p class="schedule-time">08:00 - Divers</p>
                    <p class="schedule-desc">Découverte de nouveaux jeux</p>
                </div>
                <div class="schedule-day">
                    <h3>Mercredi</h3>
                    <p class="schedule-time">20:00 - Among Us</p>
                    <p class="schedule-desc">Soirée délire avec la commu !</p>
                </div>
            </div>
        </div>
    </div>
</section>

<div class="secret-click" title="Click me 3 times!"></div>

<script>
// Konami Code
let konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
let konamiPosition = 0;

document.addEventListener('keydown', function(e) {
    if (e.key === konamiCode[konamiPosition]) {
        konamiPosition++;
        if (konamiPosition === konamiCode.length) {
            document.body.classList.add('konami-active');
            setTimeout(() => {
                document.body.classList.remove('konami-active');
            }, 5000);
            konamiPosition = 0;
        }
    } else {
        konamiPosition = 0;
    }
});

// Secret Click
let secretClicks = 0;
document.querySelector('.secret-click').addEventListener('click', function() {
    secretClicks++;
    if (secretClicks === 3) {
        this.classList.add('active');
        setTimeout(() => {
            this.classList.remove('active');
            secretClicks = 0;
        }, 3000);
    }
});

// Troll Messages
const trollMessages = [
    "Pas de panique, c'est normal si ça lag",
    "Le stream est pas cassé, c'est voulu",
    "Oui oui, le chat marche",
    "T'as essayé de recharger la page ?",
    "C'est pas un bug, c'est une feature"
];

const streamTitle = document.querySelector('.stream-title');
let currentMessage = 0;

setInterval(() => {
    streamTitle.setAttribute('data-tooltip', trollMessages[currentMessage]);
    currentMessage = (currentMessage + 1) % trollMessages.length;
}, 5000);
</script>
{% endblock %}
